<div class="section">
    <h2>Timelapse Control</h2>
    <div style="margin-bottom:15px">
        <button @onclick="OnRefresh">Refresh</button>
        <button @onclick="OnDeleteAll" class="danger">Delete All</button>
    </div>
    <div id="timelapseList">
        @if (Timelapses == null)
        {
            <p>Loading timelapses...</p>
        }
        else if (Timelapses.Count == 0)
        {
            <p>No timelapses found.</p>
        }
        else
        {
            <div class="timelapse-grid">
                @ChildContent
            </div>
        }
    </div>
</div>

@code {
    [Parameter]
    public List<TimelapseInfo>? Timelapses { get; set; }

    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    [Parameter]
    public EventCallback OnRefresh { get; set; }

    [Parameter]
    public EventCallback OnDeleteAll { get; set; }
}
